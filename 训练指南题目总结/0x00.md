## 0x00 基本算法

### 0x01 位运算

#### $a^b$
$\mathrm{kasumi}$ 模板

#### 64 位整数乘法
龟速乘或 long double 快速乘。下面给出 long double 快速乘的实现。

```cpp
ll mul(ll a,ll b){
    //x%p=x-(x/p)*p
    a%=p,b%=p;
    ll ans=a*b-ll(ld(a)*b/p)*p;
    (ans<0)?(ans+=p):(MD(ans));
    return ans;
}
```

#### 最短 Hamilton 路径
用状压 dp 或状压记忆化搜索即可

### 0x02 递推与递归

#### 递归实现指数型（子集）、组合型（$r$ 子集）或排列型枚举

照着写即可。组合型注意及时剪枝。

#### 费解的开关

经典题，NOIP 初赛有考。和“均分纸牌”类似的思路，考虑“什么操作能影响这个位置的值”。

#### Strange Towers of Hanoi

注意递推思想，把新加入的盘子当作“辅助”盘。

#### Sumdiv

提供了一种一般的（不需要求逆元的）等比数列求和方法。类似的方法在 FFT 中有重要应用。

$$1+x+x^2+x^3+x^4+\cdots+x^{2k}+x^{2k+1}=(1+x)(1+x^2+x^4+\cdots+x^{2k})$$

#### Fractal Streets

注意处理好递归问题。

#### 非递归实现组合型枚举

这个模拟栈的方法可用于在不开栈时防止爆栈。另外，枚举 $r$ 子集有更好的算法，在《组合数学》中有介绍，不妨一学。

### 0x03 前缀和与差分

#### 激光炸弹

经典题目，卡空间。

#### IncDec Sequence

当年想把类似的 idea 出成 Hanakiko 的军训 一题的，后来未成。

当时请 cultry 审题的时候 cultry 就提出了这一种贪心做法。

这题似乎还可以费用流/模拟费用流（扯远了）。

#### Tallest Cow

毒瘤贪心。一个区间可能出现多次的细节更加毒瘤。

### 0x04 二分

#### Best Cow Fences

“平均值”或“比率”的问题，其实属于分数规划……

#### **Innovative Business**

非常好的题目！这里给出一种（可能）更易理解的解法。

**定理：有向完全图（竞赛图）一定存在 Hamilton 路径。**（《组合数学》 定理 13.1.5）

采用数学归纳法和构造法证明。

1. 当 $n=1,2$ 时显然。
2. 假设当 $n=k$ 时命题成立，且所得 Hamilton 路径为 $a_1,a_2,\cdots,a_k$。
    对 $(k+1)$ 号点，构造 $b_i=[(k+1,i)\in E(G)](1\le i\le k)$。令 $b_0=0$。
    设最后一个 $0$ 的位置为 $t$。
